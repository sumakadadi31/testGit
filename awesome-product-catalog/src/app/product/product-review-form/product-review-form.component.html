<div class="well">
  <h3>Leave a review for this product</h3>
  <hr/>

  <form class="form-horizontal" #reviewForm="ngForm" (ngSubmit)="postReview(reviewForm)"> <!-- ngForm directive added automatically by Angular -->
      <!--
      Review form values: {{reviewForm.value | json}}
      Valid: {{reviewForm.valid}}
      Invalid: {{reviewForm.invalid}}
      Dirty: {{reviewForm.dirty}}
      Pristine: {{reviewForm.pristine}}
      Touched: {{reviewForm.touched}}
      Untouched: {{reviewForm.untouched}}
      -->
      <div class="form-group">
          <label for="reviewer" class="control-label col-md-3">Reviewer</label>
          <div class="col-md-9">
              <input type="text" class="form-control" name="reviewer" id="reviewer" ngModel #reviewer #reviewerModel="ngModel" (input)="onInputReviewer( reviewer, reviewerModel )" required />
              <div class="alert alert-danger" *ngIf="reviewerModel.invalid && (reviewerModel.dirty || reviewerModel.touched)">
                  This is a required field
              </div>
              <!--
              Reviewer name value: {{reviewerModel.value}}
              Valid: {{reviewerModel.valid}}
              Invalid: {{reviewerModel.invalid}}
              Dirty: {{reviewerModel.dirty}}
              Pristine: {{reviewerModel.pristine}}
              Touched: {{reviewerModel.touched}}
              Untouched: {{reviewerModel.untouched}}
              -->
          </div>
      </div>
      <div class="form-group">
          <label for="starRating" class="control-label col-md-3">Choose a rating</label>
          <div class="col-md-9">
              <select class="form-control" name="starRating" id="starRating" ngModel #starRatingInput required (blur)="checkStarRatingValidity(starRatingInput)">
                  <option value="">-- Select a rating --</option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
              </select>
              <div class="alert alert-danger" *ngIf="!isStarRatingValid">
                  This is a required field
              </div>
          </div>
      </div>
      <div class="form-group">
          <label for="title" class="control-label col-md-3">Title for your review</label>
          <div class="col-md-9">
              <input type="text" class="form-control" name="title" id="title" ngModel required />
          </div>
      </div>
      <div class="form-group">
          <label for="text" class="control-label col-md-3">Your review</label>
          <div class="col-md-9">
              <textarea class="form-control" name="text" id="text" rows="5" ngModel required></textarea>
          </div>
      </div>
      <div class="form-group">
          <div class="col-md-offset-3 col-md-9">
              <input type="reset" value="Reset" class="btn btn-default" />
              <input type="submit" value="Post review" class="btn btn-primary" [disabled]="reviewForm.invalid" />
          </div>
      </div>
  </form>
</div>